<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
    xmlns:ical="http://www.w3.org/2002/12/cal/icaltzd#"
    xmlns:skos="http://www.w3.org/2004/02/skos/core#"
    xmlns:calli="http://callimachusproject.org/rdf/2009/framework#"
    xmlns:gr="http://purl.org/goodrelations/v1#"
    xmlns:foaf="http://xmlns.com/foaf/0.1/">
<head>
    <title resource="?this">{rdfs:label}</title>
    <script type="text/javascript" src="../js/rdf-article-link-edit.js"></script>
</head>
<body resource="?this">
    <h1 property="rdfs:label" />
    <form id="rdfForm" method="POST" action="" enctype="application/sparql-update" resource="?this">
        <div class="row">
            <fieldset class="span5">
                <div class="control-group">
                    <label for="label" class="control-label">Name</label>
                    <div class="controls">
                        <input type="text" id="label" value="{rdfs:label}" class="auto-expand" required="required" autofocus="autofocus" />
                    </div>
                </div>
            </fieldset>
            <fieldset class="span5">
                <div class="control-group">
                    <label for="status" class="control-label">Status</label>
    	            <div id="status" class="controls">
    	                <select rel="ical:status">
      	                    <option selected="selected" about="?concept" rev="calli:hasComponent" resource="../concepts/sales-status/" property="skos:prefLabel" />
    	                </select>
		            </div>
                </div>
                <div class="control-group">
                    <label for="priority" class="control-label">Priority</label>
                    <div id="priority" class="controls">
                        <label class="inline radio" rel="ical:priority" resource="?priority">
                            <input type="radio" name="priority" checked="checked" />
                            <span rev="calli:hasComponent" resource="../concepts/priority/" property="skos:prefLabel" />
                        </label>
                    </div>
                </div>
                <div class="control-group">
                    <label for="value" class="control-label">Sales value</label>
                    <div class="controls">
                        <div class="input-prepend">
                            <span class="add-on">$</span>
                            <input id="value" type="number" min="0" step="any" datatype="xsd:decimal" class="auto-expand" value="{gr:hasCurrencyValue}" />
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </form>
    <form id="docForm" rel="foaf:isPrimaryTopicOf" resource="?article" method="PUT" action="{?article}?xhtml" enctype="application/xhtml+xml">
        <iframe id="iframe" width="100%" height="50%" src="/callimachus/document-editor.html"
            onload="calli.loadEditor(event,'{?article}?xhtml')"> </iframe>
        <fieldset class="form-actions">
            <button type="submit" class="btn btn-primary">Save</button>
            <button type="button" onclick="window.location.replace('?view')" class="btn">Cancel</button>
            <button type="button" onclick="calli.deleteResource(event)" class="btn btn-danger">Delete</button>
        </fieldset>
    </form>
</body>
</html>
