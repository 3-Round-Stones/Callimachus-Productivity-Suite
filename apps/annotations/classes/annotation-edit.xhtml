<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
    xmlns:owl="http://www.w3.org/2002/07/owl#"
    xmlns:calli="http://callimachusproject.org/rdf/2009/framework#"
    xmlns:oa="http://www.w3.org/ns/oa#"
    xmlns:cnt="http://www.w3.org/2011/content#"
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:dctypes="http://purl.org/dc/dcmitype/"
    xmlns:vcard="http://www.w3.org/2006/vcard/ns#"
    xmlns:skos="http://www.w3.org/2004/02/skos/core#">
<head>
    <title resource="?this">{rdfs:label}</title>
    <link rel="stylesheet" type="text/css" href="../css/annotation-create.css" />
    
    <script type="text/javascript" src="../js/annotation-create-edit.js"></script>
    <script type="text/javascript" src="../js/annotation-view.js"></script>
</head>
<body resource="?this">
    <h1 property="rdfs:label" />
    <form id="pageForm" method="POST" action="" enctype="application/sparql-update" resource="?this">
        <fieldset>
            <div class="row-fluid">
                <div class="row-fluid">
                    <div class="span6">
                        <div class="control-group">
                            <label for="label" class="control-label">Title</label>
                            <div class="controls">
                                <input type="text" id="label" value="{rdfs:label}" class="auto-expand" required="required" autofocus="autofocus" />
                            </div>
                        </div>
                    </div>
                    <div class="span6">
                        <div class="control-group">
                            <label for="motivation" class="control-label">Motivation</label>
                            <div class="controls">
                                <span>{oa:motivatedBy}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="span6">
                        <div resource="?this" id="bookmarkDiv" class="control-group">
                            <label class="control-label">Bookmark Notes <button class="btn btn-info"
                                    onclick="return calli.addResource(event, '#bookmarkBodies')"><i class="icon-comment icon-white" /></button></label>
                            <div rel="oa:motivatedBy" resource="http://www.w3.org/ns/oa#bookmarking">
                                <div resource="?this">
                                    <div id="bookmarkBodies" class="controls bodies">
                                        <div rel="oa:hasBody" resource="?bookmarkBody">
                                            <div property="dc:format" content="text/plain" />
                                            <textarea class="span10" rows="3" placeholder="General comment or description...">{cnt:chars}</textarea>
                                            <a href="{?bookmarkBody}" title="Remove" onclick="return calli.removeResource(event)" class="ui-icon ui-icon-close" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div resource="?this" id="classificationDiv" class="control-group">
                            <div rel="oa:motivatedBy" resource="http://www.w3.org/ns/oa#classifying">
                                <div resource="?this" dropzone="link s:text/uri-list" ondrop="return calli.insertResource(event)" class="controls bodies">
                                    <label class="control-label">Classifications <button class="btn btn-info" href="/rdf/2013/annotations/concepts/" 
                                            title="Browse classifications" onclick="return calli.selectResource(event)"><i class="icon-folder-open icon-white" /></button></label>
                                    <div rel="oa:hasBody" resource="?classificationBody">
                                        <span resource="?classificationBody" typeof="skos:Concept" class="ui-state-highlight ui-corner-all">
                                            <span property="skos:prefLabel" />
                                            <a href="{?classificationBody}" title="Remove" onclick="return calli.removeResource(event)" class="ui-icon ui-icon-close" />
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div resource="?this" id="commentDiv" class="control-group">
                            <label class="control-label">Comments <button class="btn btn-info"
                                    onclick="return calli.addResource(event, '#commentBodies')"><i class="icon-comment icon-white" /></button></label>
                            <div rel="oa:motivatedBy" resource="http://www.w3.org/ns/oa#commenting">
                                <div resource="?this">
                                    <div id="commentBodies" class="controls bodies">
                                        <div rel="oa:hasBody" resource="?commentBody">
                                            <div property="dc:format" content="text/plain" />
                                            <textarea class="span10" rows="3" placeholder="General comment or description...">{cnt:chars}</textarea>
                                            <a href="{?commentBody}" title="Remove" onclick="return calli.removeResource(event)" class="ui-icon ui-icon-close" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div resource="?this" id="highlightDiv" class="control-group">
                            <label class="control-label">Highlight Notes <button class="btn btn-info"
                                    onclick="return calli.addResource(event, '#highlightBodies')"><i class="icon-comment icon-white" /></button></label>
                            <div rel="oa:motivatedBy" resource="http://www.w3.org/ns/oa#highlighting">
                                <div resource="?this">
                                    <div id="highlightBodies" class="controls bodies">
                                        <div rel="oa:hasBody" resource="?highlightBody">
                                            <div property="dc:format" content="text/plain" />
                                            <textarea class="span10" rows="3" placeholder="General comment or description...">{cnt:chars}</textarea>
                                            <a href="{?highlightBody}" title="Remove" onclick="return calli.removeResource(event)" class="ui-icon ui-icon-close" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div resource="?this" id="identificationDiv" class="control-group">
                            <label class="control-label">Identifications <button class="btn btn-info"
                                    onclick="return calli.addResource(event, '#identificationBodies')"><i class="icon-info-sign icon-white" /></button></label>
                            <div rel="oa:motivatedBy" resource="http://www.w3.org/ns/oa#identifying">
                                <div resource="?this">
                                    <div id="identificationBodies" class="controls bodies">
                                        <div rel="oa:hasBody" resource="?identificationBody">
                                            <div property="dc:format" content="text/plain" />
                                            <input type="url" placeholder="http://" value="{cnt:chars}" />
                                            <a href="{?identificationBody}" title="Remove" onclick="return calli.removeResource(event)" class="ui-icon ui-icon-close" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div resource="?this">
                            <div rel="oa:motivatedBy" resource="http://www.w3.org/ns/oa#tagging">
                                <div resource="?this" id="tagDiv" class="control-group">
                                    <label class="control-label">Tags <button class="btn btn-info"
                                            onclick="return calli.addResource(event, '#tagBodies')"><i class="icon-tag icon-white" /></button></label>
                                    <div id="tagBodies" rel="oa:hasBody" class="controls bodies">
                                        <div resource="?tagBody" typeof="cnt:ContentAsText dctypes:Text oa:Tag">
                                            <div property="dc:format" content="text/plain" />
                                            <input class="span4" type="text" value="{cnt:chars}" />
                                            <a href="{?tagBody}" title="Remove" onclick="return calli.removeResource(event)" class="ui-icon ui-icon-close" />
                                        </div>
                                    </div>
                                </div>
                                <div resource="?this" id="semTagDiv" class="control-group">
                                    <label class="control-label">Semantic Tags <button class="btn btn-info"
                                            onclick="return calli.addResource(event, '#semTagBodies')"><i class="icon-globe icon-white" /></button></label>
                                    <div id="semTagBodies" rel="oa:hasBody" class="controls bodies">
                                        <div resource="?semTagBody" typeof="cnt:ContentAsText dctypes:Text oa:SemanticTag">
                                            <div property="dc:format" content="text/plain" />
                                            <input class="span10" type="text" value="{cnt:chars}" placeholder="http://" />
                                            <a href="{?semTagBody}" title="Remove" onclick="return calli.removeResource(event)" class="ui-icon ui-icon-close" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                <!--
                Might work...
                <div class="highlightHeader span6" rel="oa:hasTarget" resource="?targetHighlights">
                        <h3>Highlighted Selections</h3>
                        <ul class="highlightList" rel="oa:hasSelector" resource="?selector">
                            <li>
                                <p><a href="javascript:void(0)" onclick="highlightToggle()"><span id="selectionLink">Show context</span></a></p>
                                <p class="initHide highlightContext">Prefix: <span id="prefix" property="oa:prefix" /></p>
                                <p>Exact: <span id="exact" class="highlight" property="oa:exact" /></p>
                                <p class="initHide highlightContext">Suffix: <span id="suffix" property="oa:suffix" /></p>
                            </li>
                        </ul>
                    </div>
                </div>
                -->
                </div>
                <div class="row-fluid">
                    <div class="span12">
                        <h3 for="document">Document Annotated
                            <button title="Display resource in iFrame" onclick="toggleTargetFrame()" class="btn btn-small btn-info" type="button">
                                <i id="iframeToggleIcon" class="icon icon-plus-sign icon-white" />
                                <span id="iframeToggleSpan">Display</span>
                            </button>
                        </h3>
                        <div id="target" rel="oa:hasTarget" resource="?target">
                            <div id="targetWrap">
                                <p><a id="targetAnchor" href="?target">{?target}</a></p>
                                <iframe id="targetIframe" style="max-width:100%; width:95%; height:500px; border:2; padding:5px" />
                            </div>
                            <div rel="oa:hasSource" resource="?source">
                                <div id="sourceWrap">
                                    <p><a id="sourceAnchor" href="?source">{?source}</a></p>
                                    <iframe id="sourceIframe" style="max-width:100%; width:95%; height:500px; border:2; padding:5px" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Save</button>
                <button type="button" onclick="window.location.replace('?view')" class="btn">Cancel</button>
                <button type="button" onclick="calli.deleteResource(event)" class="btn btn-danger">Delete</button>
            </div>
        </fieldset>
    </form>
</body>
</html>
